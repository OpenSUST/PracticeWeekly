# 蛇皮走位

## 题目

运动会到了，YYG负责设计 n * n 方阵的列队方式.

众所周知YYG比较皮 所以他设计了一种名叫 “蛇皮走位” 的列队方式:

首先先将全部同学按每 ⑨ 个一组的方式进行分组 并给与该组同学一个序号 (从1~9).

然后按顺时针的方向螺旋列队 就形成了蛇皮走位的列队方式.

如下图 就是 5 x 5 的列队方式 其中同一个颜色表示一个分组.

![image](https://user-images.githubusercontent.com/17093811/114410343-e101c780-9bdd-11eb-9e00-1e85b42ebaa4.png)

列完队还没完事 YYG就很皮 还想知道坐标 (x, y) 的同学的序号是什么. (左上角第一位同学的坐标是: (1, 1))

作为YYG的一名合格的工具人 你能编写一个程序来实现以上序号的计算吗?

### 输入

第一行一个正整数 k 表示接下来的样例数. (1 <= k <= 105)

接下来 k 行每行三个正整数 n x y 分别表示方阵的大小和查询的坐标. (1 <= x y <= n <= 109)

### 输出

总共 k 行 每行输出一个正整数 表示该位同学的序号.

### 样例输入

```
2
3 3 1
4 3 2
```

### 样例输出

```
3
5
```

### 提示

第一组样例:

![image](https://user-images.githubusercontent.com/17093811/114410547-08f12b00-9bde-11eb-8dc2-e61ec0b36779.png)

第二组样例:

![image](https://user-images.githubusercontent.com/17093811/114410570-0db5df00-9bde-11eb-872c-9c08b677259d.png)

## 题解

>  可以直接看: https://leetcode-cn.com/problems/SNJvJP/solution/shu-xue-yi-ge-gong-shi-ji-ke-by-ivon_shi-mo6a/

我们先对输入的数据进行变换, 假设输入数据为 `n, x1, y1`.

则设 `x = y1 + 1`, `y = x1 + 1`.

1. 设要求的方块所在层数为 `k = min(x, n - 1 - x, y, n - 1 - y)`. _(其实就是边界点对于(x, y)的最小值)_
2. 第 `k` 层以外的方块数为: **n<sup>2</sup> - (n - 2k)<sup>2</sup> = 4 * k * (n - k)*.
3. 那么现在要求所需方块距离方块 `(k, k)` 的间隔方块数:
  - 对于 `x <= y`, `d = (x - k) + (y - k) + 1`. _(此时所求方块在对角线上方)_
  - 对于 `x > y`, `d = (x - (k - 1)) + (y - (k - 1)) + 1`. _(此时所求方块在对角线下方, 因此采用的计算方法是从 `k + 1` 层回退到 `k` 层的方式计算)_
4. 最后将结果 `d` 相加, 并进行处理 `ans = (d - 1) % 9 + 1` 输出即可. _(将0~8转换为1~9即为最终答案)_

## 代码

```bash
#!/bin/bash
min() {
  echo $(( $1 < $2 ? $1 : $2 ))
}
read all
for i in $(seq $all)
do
  read n y x
  let "x--"
  let "y--"
  if [ $x -le $y ]
  then
    k=$(min $x $(($n - 1 - $y)))
    echo "$(((4 * $k * ($n - $k) + 1 + ($x + $y - $k * 2) - 1) % 9 + 1))"
  else
    k=$(($(min $y $(($n - 1 - $x))) + 1))
    echo "$(((4 * $k * ($n - $k) + 1 - ($x + $y - ($k - 1) * 2) - 1) % 9 + 1))"
  fi
done
```
